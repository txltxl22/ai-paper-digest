<!-- Modern Pagination Component -->
{% if total_pages and total_pages > 1 %}
<nav class="pagination" aria-label="åˆ†é¡µå¯¼èˆª">
  {% set base_endpoint = 'index_page.read_papers' if show_read else 'index_page.index' %}
  {% set qs = [] %}
  {% if active_tag %}{% set _ = qs.append('tag=' ~ active_tag) %}{% endif %}
  {% if tag_query %}{% set _ = qs.append('q=' ~ tag_query) %}{% endif %}
  {% if active_tops %}
    {% for t in active_tops %}{% set _ = qs.append('top=' ~ t) %}{% endfor %}
  {% endif %}
  {% set _ = qs.append('per_page=' ~ per_page) %}
  {% set common = '&'.join(qs) %}
  {% if common %}{% set common = common ~ '&' %}{% endif %}

  <div class="pagination-content">
    <div class="pagination-info">
      <span class="page-icon">ðŸ“„</span>
      <span class="page-text">ç¬¬ <strong>{{ page }}</strong> / {{ total_pages }} é¡µ</span>
      <span class="page-count">ï¼ˆå…± {{ total_items }} ç¯‡ï¼‰</span>
    </div>
    
    <div class="pagination-controls">
      <a class="page-btn first-btn {% if page <= 1 %}disabled{% endif %}"
         href="{{ url_for(base_endpoint) }}?{{ common }}page={{ 1 }}">
        <span class="btn-icon">Â«</span>
        <span class="btn-text">é¦–é¡µ</span>
      </a>
      <a class="page-btn prev-btn {% if page <= 1 %}disabled{% endif %}"
         href="{{ url_for(base_endpoint) }}?{{ common }}page={{ page - 1 if page > 1 else 1 }}">
        <span class="btn-icon">â€¹</span>
        <span class="btn-text">ä¸Šä¸€é¡µ</span>
      </a>
      <a class="page-btn next-btn {% if page >= total_pages %}disabled{% endif %}"
         href="{{ url_for(base_endpoint) }}?{{ common }}page={{ page + 1 if page < total_pages else total_pages }}">
        <span class="btn-text">ä¸‹ä¸€é¡µ</span>
        <span class="btn-icon">â€º</span>
      </a>
      <a class="page-btn last-btn {% if page >= total_pages %}disabled{% endif %}"
         href="{{ url_for(base_endpoint) }}?{{ common }}page={{ total_pages }}">
        <span class="btn-text">æœ«é¡µ</span>
        <span class="btn-icon">Â»</span>
      </a>
    </div>
  </div>
</nav>
{% endif %}
